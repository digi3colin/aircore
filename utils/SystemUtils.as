package utils {	import com.fastframework.log.FASTLog;	import flash.display.DisplayObject;	/**	 * @author colin	 */	final public class SystemUtils {		public static function getMovieURLPath(mc:DisplayObject):String{			if(SystemUtils.checkLoaderInfo(mc)!=true)return "";			var pathArray:Array = mc.loaderInfo.url.split("/");			pathArray.pop();				return (pathArray.length==0)?"":(pathArray.join("/")+"/");		}				public static function getMovieFileName(mc:DisplayObject,withExtension:Boolean=true):String{			if(SystemUtils.checkLoaderInfo(mc)!=true)return "";			var url:String = mc.loaderInfo.url;			var matchNames:Array = url.match(/\/[^.]*.swf/i);			if(matchNames.length==0)return "";			var fileName:String = matchNames[0];			//var fileName:String = mc.loaderInfo.url.substring(mc.loaderInfo.url.lastIndexOf("/"));			return (withExtension)?fileName:fileName.split(".swf")[0];		}				public static function getMovieURLCurrentFolderName(mc:DisplayObject):String{			if(SystemUtils.checkLoaderInfo(mc)!=true)return "";			var pathArray:Array = mc.loaderInfo.url.split("/");			pathArray.pop();			pathArray.pop();			return (pathArray.length==0)?"":(pathArray.join("/")+"/");		}				private static function checkLoaderInfo(mc:DisplayObject):Boolean{			if(mc.loaderInfo==null){				FASTLog.instance().log(mc+' loaderInfo not found', FASTLog.LOG_LEVEL_WARNING);				return false;			}			if(mc.loaderInfo.url==null){				FASTLog.instance().log(mc+' loaderInfo not contain url', FASTLog.LOG_LEVEL_WARNING);				return false;			}			return true;		}	}}